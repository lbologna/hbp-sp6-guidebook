


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Multi compartmental Cerebellar Granule cell running on NSG &#8212; HBP Brain Simulation Platform Guidebook 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/hbpdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bsp.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bsp.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/extra.js"></script>
    <script type="text/javascript" src="../../../../_static/hbpdoc.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Single Cell In Silico Experiments" href="../../../single_cell_in_silico/single_cell_in_silico.html" />
    <link rel="prev" title="Multi compartmental Cerebellar Granule cell running on collab" href="../opt_gc_multi_collab/opt_gc_multi_collab.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body role="document">
<div class="hbpdoc-page">
    <section class="hbpdoc-title page-header">
        <a class="project-title" href="../../../../index.html">HBP Brain Simulation Platform Guidebook</a>

        <a class="hbpdoc-toc-toggle pull-right" href>
            <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
        </a>
    </section>
    <section class="hbpdoc-main">
        <nav class="hbpdoc-sidebar hbpdoc-container">
            <a class="hbpdoc-toc-toggle pull-right" href>
                <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
            </a>
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../opt_gc_multi_collab/opt_gc_multi_collab.html"
                        title="previous chapter">Multi compartmental Cerebellar Granule cell running on collab</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../../single_cell_in_silico/single_cell_in_silico.html"
                        title="next chapter">Single Cell In Silico Experiments</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/online_usecases/single_cell_building/cerebellum/opt_gc_multi_nsg/opt_gc_multi_nsg.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </nav>

        <article class="hbpdoc-content">

            <div class="content">
                
                <div class="breadcrumb breadcrumb-meta expand">
                    
                    <a href="../../../online_usecases.html">Online Use Cases</a>
                    
                    <a href="../../single_cell_building.html">Single Cell Building</a>
                    
                    <a href="../cerebellum.html">Cerebellum</a>
                    
                </div>
                

                <aside class="hbpdoc-hnav hbpdoc-hnav-top">
                    
                    <span class="hbpdoc-hnav-previous">
                        previous: <a class="hbpdoc-hnav-link" href="../opt_gc_multi_collab/opt_gc_multi_collab.html">Multi compartmental Cerebellar Granule cell running on collab</a>
                    </span>
                    
                    
                    <span class="hbpdoc-hnav-next">
                        next: <a class="hbpdoc-hnav-link" href="../../../single_cell_in_silico/single_cell_in_silico.html">Single Cell In Silico Experiments</a>
                    </span>
                    
                </aside>

                <div class="section" id="multi-compartmental-cerebellar-granule-cell-running-on-nsg">
<h1>Multi compartmental Cerebellar Granule cell running on NSG<a class="headerlink" href="#multi-compartmental-cerebellar-granule-cell-running-on-nsg" title="Permalink to this headline">¶</a></h1>
<p>Multi compartmental Cerebellar Granule cell optimization, performed with BluePyOpt, direcly on the collab (Code and testing - Stefano Masoli PhD).</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The ionic channels mechanisms, the passive properties and the morphology were taken and adapted from a previous published granule cell model (Diwakar et al., 2006) (<a class="reference external" href="https://senselab.med.yale.edu/modeldb/showModel.cshtml?model=116835">https://senselab.med.yale.edu/modeldb/showModel.cshtml?model=116835</a>) and used in the automatic reconstruction and validation of the granule cells, using the BBP Optimizer Framework (Masoli et al., 2017). Information about the generation of the morphology can be found in the paper.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The code is commented, step by step, to define what is done in each ipython cell.</p>
<dl class="docutils">
<dt>Note - Each notebook cell has two square bracket on the left.</dt>
<dd><ol class="first last arabic simple">
<li>When they are empty, it means that the code was never started before.</li>
<li>When there is an asterisk [*], it means that the code is running.</li>
<li>When there is a number, it means that the code was run. A progressive numbering scheme define the order in which the cells were selected.</li>
</ol>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/files.png"><img alt="../../../../_images/files.png" class="align-left" src="../../../../_images/files.png" style="width: 1000px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig. 1 – The optimization requires a certain amount of files. The morphology, the ionic channels, the python file, which is nearly identical to the one used for the granule cell optimization on the collab and a text file that contains the values for the numbers of individuals and generations.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/nsg_req.png"><img alt="../../../../_images/nsg_req.png" class="align-left" src="../../../../_images/nsg_req.png" style="width: 1000px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig. 2 – A requirement of NSG is that all files need to be placed into a directory, which later will be compressed into a zip file.
At this point it can be set the number of generations and individuals. The two parameters will be saved in a text file used by the main python file.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/compression.png"><img alt="../../../../_images/compression.png" class="align-left" src="../../../../_images/compression.png" style="width: 1000px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig. 3 – Compression of the files into the zip file.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/gui_code.png"><img alt="../../../../_images/gui_code.png" class="align-left" src="../../../../_images/gui_code.png" style="width: 1000px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig. 4a – The code in this part is in charge of a GUI.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/login.png"><img alt="../../../../_images/login.png" class="align-left" src="../../../../_images/login.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig4b – This is used to set the number of nodes (in this case only 1), of cores (again 1) and the runtime. The analysis checkbox is not functional. The procedure requires to login to NSG, with a valid account, that is not present in the code itself. After pushing the run button, another button will appear to check the status of the queue and if the simulation is running.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="docutils">
<dt>IMPORTANT. After sending a job to NSG:</dt>
<dd><ol class="first last arabic simple">
<li>The collab page MUST NOT be closed.</li>
<li>The web page MUST NOT be closed.</li>
<li>The browser MUST NOT be closed.</li>
<li>If the connection is interrupted, the code cannot recover the results.</li>
<li>The page MUST remain always active to retrieve the results from NSG.</li>
</ol>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../../_images/code_run.png"><img alt="../../../../_images/code_run.png" class="align-left" src="../../../../_images/code_run.png" style="width: 1000px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Fig. 5 – The rest of the cells is a reduced version of the code used to run the optimization on the collab. It is used to plot the best individual obtained at the end of the optimization. Any modification to this code can destroy the entire process.</p>
</div>

            </div>

            <aside class="hbpdoc-hnav hbpdoc-hnav-bottom">
                
                <span class="hbpdoc-hnav-previous">
                    previous: <a class="hbpdoc-hnav-link" href="../opt_gc_multi_collab/opt_gc_multi_collab.html">Multi compartmental Cerebellar Granule cell running on collab</a>
                </span>
                
                
                <span class="hbpdoc-hnav-next">
                    next: <a class="hbpdoc-hnav-link" href="../../../single_cell_in_silico/single_cell_in_silico.html">Single Cell In Silico Experiments</a>
                </span>
                
            </aside>
        </article>
    </section>


    <div class="hbpdoc-footer">
        HBP Brain Simulation Platform Guidebook <small>0.1</small> 
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Luca L. Bologna, Carmen A. Lupascu, R. Migliore, M. Migliore.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
    </div>
</div>

  </body>
</html>